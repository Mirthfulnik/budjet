<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Finance 2026</title>

  <style>
    :root {
      --bg: #0f1115;
      --card: #1a1d24;
      --text: #ffffff;
      --muted: #9aa0aa;
      --accent: #4da3ff;
      --danger: #ff5c5c;
      --success: #4caf50;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Inter, system-ui, sans-serif;
      background: var(--bg);
      color: var(--text);
      padding-bottom: 72px;
    }

    .page {
      display: none;
      padding: 16px;
    }
    .page.active {
      display: block;
    }

    .card {
      background: var(--card);
      border-radius: 12px;
      padding: 14px;
      margin-bottom: 12px;
    }

    h2 {
      margin: 0 0 10px;
      font-size: 18px;
    }

    input, select, button {
      width: 100%;
      padding: 10px;
      margin-bottom: 8px;
      border-radius: 8px;
      border: none;
      font-size: 15px;
    }

    button {
      background: var(--accent);
      color: #000;
      font-weight: 600;
    }

    .row {
      display: flex;
      gap: 8px;
    }

    .op {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px solid #2a2d35;
    }

    .op:last-child { border-bottom: none; }

    .delete {
      color: var(--danger);
      cursor: pointer;
      font-size: 14px;
    }

    /* bottom nav */
    .nav {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 64px;
      background: #0c0e13;
      display: flex;
      justify-content: space-around;
      align-items: center;
      border-top: 1px solid #222;
      z-index: 10;
    }

    .nav button {
      background: none;
      color: var(--muted);
      font-size: 12px;
      padding: 0;
    }

    .nav button.active {
      color: var(--accent);
    }

    /* sync modal */
    .sync-status {
      position: fixed;
      bottom: 80px;
      left: 16px;
      right: 16px;
      background: var(--card);
      padding: 12px;
      border-radius: 10px;
      display: none;
      z-index: 20;
    }
  </style>
</head>

<body>

<!-- –ü–£–õ–¨–¢ -->
<section id="pult" class="page active">
  <div class="card">
    <h2>–ù–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è</h2>
    <select id="type">
      <option value="income">–î–æ—Ö–æ–¥</option>
      <option value="expense">–†–∞—Å—Ö–æ–¥</option>
      <option value="transfer">–ü–µ—Ä–µ–≤–æ–¥</option>
    </select>
    <input id="amount" type="number" placeholder="–°—É–º–º–∞" />
    <select id="category"></select>
    <input id="date" type="date" />
    <input id="comment" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π" />
    <button onclick="addOperation()">–î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é</button>
  </div>

  <div class="card">
    <h2>–û–ø–µ—Ä–∞—Ü–∏–∏</h2>
    <div id="operations"></div>
  </div>

  <div class="card">
    <h2>–õ–∏–º–∏—Ç—ã</h2>
    <div id="limits"></div>
  </div>

  <div class="card">
    <h2>–ü–ª–∞–Ω –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π</h2>
    <div id="savingPlan"></div>
  </div>
</section>

<!-- –î–ê–®–ë–û–†–î -->
<section id="dashboard" class="page">
  <div class="card">
    <h2>–°–≤–æ–¥–∫–∞</h2>
    <div id="summary"></div>
  </div>

  <div class="card">
    <h2>–î–∏–∞–≥—Ä–∞–º–º—ã</h2>
    <p class="muted">–°—Ç–æ–ª–±—á–∞—Ç—ã–µ –∏ –∫—Ä—É–≥–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã</p>
  </div>

  <div class="card">
    <h2>–¢–û–ü –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
    <div id="topCategories"></div>
  </div>
</section>

<!-- –¶–ï–õ–ò -->
<section id="goals" class="page">
  <div class="card">
    <h2>–¶–µ–ª–∏</h2>
    <div id="goalsList"></div>
  </div>

  <div class="card">
    <h2>–ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —à–∫–∞–ª–∞</h2>
    <div id="motivationScale"></div>
  </div>
</section>

<!-- –ù–ê–°–¢–†–û–ô–ö–ò -->
<section id="settings" class="page">
  <div class="card">
    <h2>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
    <div id="categoriesSettings"></div>
  </div>

  <div class="card">
    <h2>–õ–∏–º–∏—Ç—ã</h2>
    <div id="limitsSettings"></div>
  </div>

  <div class="card">
    <h2>–ú–æ—Ç–∏–≤–∞—Ü–∏—è</h2>
    <div id="motivationSettings"></div>
  </div>
</section>

<!-- SYNC STATUS -->
<div id="syncStatus" class="sync-status"></div>

<!-- NAV -->
<nav class="nav">
  <button onclick="showPage('pult')" class="active">üßÆ<br>–ü—É–ª—å—Ç</button>
  <button onclick="showPage('dashboard')">üìä<br>–î–∞—à–±–æ—Ä–¥</button>
  <button onclick="showPage('goals')">üéØ<br>–¶–µ–ª–∏</button>
  <button onclick="showPage('settings')">‚öôÔ∏è<br>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
  <button onclick="sync()">üîÑ<br>Sync</button>
</nav>

<script>
const API = "PASTE_YOUR_GAS_WEBAPP_URL";

function showPage(id) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.getElementById(id).classList.add('active');

  document.querySelectorAll('.nav button').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');
}

function sync() {
  const box = document.getElementById('syncStatus');
  box.style.display = 'block';
  box.innerText = '–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è...';

  fetch(API + '?action=sync')
    .then(r => r.json())
    .then(() => {
      box.innerText = '–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞';
      setTimeout(() => box.style.display = 'none', 2000);
    });
}

function addOperation() {
  const data = {
    type: type.value,
    amount: amount.value,
    category: category.value,
    date: date.value,
    comment: comment.value
  };

  fetch(API, {
    method: 'POST',
    body: JSON.stringify({ action: 'addOperation', data })
  }).then(() => sync());
}
</script>
</body>
</html>
